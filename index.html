<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mariamaladsani.github.io - assign08</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">mariamaladsani.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Assignments</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">    
        <li>
    <a class="dropdown-item" href="./assign01.html" rel="" target="">
 <span class="dropdown-text">assign01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assign02.html" rel="" target="">
 <span class="dropdown-text">assign02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assign03.html" rel="" target="">
 <span class="dropdown-text">assign03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assign06.html" rel="" target="">
 <span class="dropdown-text">assign06</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assign07.html" rel="" target="">
 <span class="dropdown-text">assign07</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assign08.html" rel="" target="">
 <span class="dropdown-text">assign08</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./finalproject.html" rel="" target="">
 <span class="dropdown-text">EPPS 6302 Final Project</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#website-httpsmariamaladsani.github.io" id="toc-website-httpsmariamaladsani.github.io" class="nav-link active" data-scroll-target="#website-httpsmariamaladsani.github.io">[Website] https://mariamaladsani.github.io</a></li>
  <li><a href="#assignment-8-spatial-data" id="toc-assignment-8-spatial-data" class="nav-link" data-scroll-target="#assignment-8-spatial-data">Assignment 8: Spatial Data</a></li>
  <li><a href="#assignment-7-government-data-and-data-processing" id="toc-assignment-7-government-data-and-data-processing" class="nav-link" data-scroll-target="#assignment-7-government-data-and-data-processing">Assignment 7: Government data and data processing</a></li>
  <li><a href="#assignment-3-quanteda" id="toc-assignment-3-quanteda" class="nav-link" data-scroll-target="#assignment-3-quanteda">Assignment 3: Quanteda</a></li>
  <li><a href="#assignment-2-g-trends" id="toc-assignment-2-g-trends" class="nav-link" data-scroll-target="#assignment-2-g-trends">Assignment 2: G-Trends</a></li>
  <li><a href="#assignment-1-survey-analysis" id="toc-assignment-1-survey-analysis" class="nav-link" data-scroll-target="#assignment-1-survey-analysis">Assignment 1: Survey Analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">assign08</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Master’s student in UT Dallas’ Applied Cognition and Neuroscience program.</p>
<p>Contact: mariam.aladsani[at]utdallas.com</p>
<section id="website-httpsmariamaladsani.github.io" class="level2">
<h2 class="anchored" data-anchor-id="website-httpsmariamaladsani.github.io">[Website] https://mariamaladsani.github.io</h2>
</section>
<section id="assignment-8-spatial-data" class="level2">
<h2 class="anchored" data-anchor-id="assignment-8-spatial-data">Assignment 8: Spatial Data</h2>
<p>Assignment 8: Spatial Data</p>
<p>The purpose of this assignment was to learn spatial data to learn the median age in the USA using the 2019 US Census Data. We start doing so by downloading the tidycensus and tigris packages. After downloading said packages, we can start observing the variables in our census dataset that will ultimately dictate the median age in each state. These variables account for sex, age, geography, among other important demographic information Additionally, access to US census data necessitates an API Key from Census API Data Service. After running, these vectors we can narrow our search to seek the median age data.</p>
<p>Before actualizing the data we run a plain map of the US:</p>
<p>Since we have the schematic of the map, we are now able to apply the demographic variables we already ran on a map, which captures all of our data. I first ran the code for the median age by state for 2019.</p>
<p>To compare data to the median age by state in 2009, I tweaked the year in the code and generated this map:</p>
<p>While, the map look like somewhat similar there are a few variable differences seen between 2009 and 2019, particularly in the Midwest where the median age is increasing. Regions like the east and west coast continue to maintain very similar demographics.</p>
<p>To compare further we I also tweaked the code to run the median age for the 2020 census data. Unfortunately, due to low-response rates the census just estimated the data. This is how it appeared in the console:</p>
<p>The regular 1-year ACS for 2020 was not released and is not available in tidycensus. ℹ Due to low response rates, the Census Bureau instead released a set of experimental estimates for the 2020 1-year ACS.</p>
</section>
<section id="assignment-7-government-data-and-data-processing" class="level2">
<h2 class="anchored" data-anchor-id="assignment-7-government-data-and-data-processing">Assignment 7: Government data and data processing</h2>
<p>This assignment required us to download large data sets from government websites. Prior to downloading any of the data we reset the console to conserve memory. After resetting, we downloaded the purrr and magrittr packages.</p>
<p>I set the path to my desktop directory. After completing that, I downloaded congressional hearing datasets from 2021-2023 from https://www.govinfo.gov/app/search/ . After downloading, I was able to download and the organize the data on RStudio.</p>
<p>RStudio was also able to organize other variables of the data set in the Data tab.</p>
<p>The values set allows to see how long the dataset took long to load, in this case it took 9 seconds. We were also suggested to look at other storage methods like: Arrow, Feather, and Parquet. Arrow is a storage method that is able to hierarchically organize data on modern hardware. Feather is able “to read and write feather files,” at “maximum speed.” Lastly, Parquet similar to feather also manages columnar storage datasets, other than it also runs on Python. ## Assignment 6: Webscraping/textmining</p>
<p>For this project we webscapred Martin Luther King’s “I Have A Dream Speech,” using a text mining script. The text mining scipt downloads the “htmlTreeParse” function which allows to break down the article and ultimately process different vectors like punctuation, paragraphs, and word-frequency; which I’ll talk about a little bit later.</p>
<p>Once we install the necessary packages like XML, wordcloud, RColorBrwer, NLP, tm, and quantenda, we process the speech as an html document. This makes it easier to sparse through. As seen in the image below, the speech is now processed as an html document on RStudio.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/paragraph-01.png" class="img-fluid figure-img" width="561"></p>
</figure>
</div>
<p>Following this procedure we start vectorizing the words in the document and we then run the words.corpus too. Both the words.vec and words.corpus are seen in the data section of RStudio, and reveal the language, content, length, as well as other features in MLK’s speech.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/Screenshot (136)-01.png" class="img-fluid figure-img" width="484"></p>
</figure>
</div>
<p>We run other elements of words.corpus like removing punctuating and numbers to make it easier to analyze the text. Running TermDocumentMatrix, processes minuscule elements of the speech like integers and characters, this tool is helpful for the generation of wordcloud later. After the intial run of TermDocumentMatrix we can no analyze more broader parts of the text like word count, which can be seen in the picture below.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/wordcount1-01.png" class="img-fluid figure-img" width="466"></p>
</figure>
</div>
<p>We can finally generate a wordcloud of MLK’s “I Have A Dream,” speech, that displays the most frequent words used.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/0364c463-2a56-458e-80d6-7fe21265513a-01.png" class="img-fluid figure-img" width="563"></p>
</figure>
</div>
<p>Dr.&nbsp;Ho, then showed me how to play around with word frequencies. We were able to generate a wordcloud with words that were only mentioned once in the speech. As seen, the wordcloud becomes much more diverse.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\images/3c46bf3b-a45c-4e64-9dfd-4dffd209d727-01.png" class="img-fluid figure-img" width="605"></p>
</figure>
</div>
</section>
<section id="assignment-3-quanteda" class="level2">
<h2 class="anchored" data-anchor-id="assignment-3-quanteda">Assignment 3: Quanteda</h2>
<p>In this assignment we were asked to analyze Biden-Xi summit that took place in November 2021. During this summit, Biden and Xi discussed China’s domestic policies, trade relationships, and security issues regarding the Asian region (Politico). For this assignment, we used the R alongside a Quantenda package to scrape and analyze Twitter data on the day of the summit. The twitter data analyzed displayed activity ranging from interactions, trending hashtags, popular users that were tagged, and prominent rhetoric on the day of the summit.</p>
<p>This is the summary of data:</p>
<p>The most popular hashtags on that were” #china”,” #joebiden”,” #xinjinping”, and “#america”. Other popular hashtags were “#usa,” “#breakingnews,” and “pray4america.” Quantenda data also pulled other popular hashtags from twitters among the ones not notes above are: “#uyghurgenocide,” “#uyghur,” “#humanrights,” “tibetans,” “taiwan,” “#coronavirus,” and interestingly enough “#fentanyl.” This plot shows how the variety of hashtags were used, and their connection with one another.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rplot01_topics-03.png" class="img-fluid figure-img" width="521"></p>
</figure>
</div>
<p>The Quantenda data allowed us to look at the 20 top users that were featured on the data matrix. The five top users mentioned were @POTUS, @JoeBiden, @Politico @EnesKanter, and @jendeben. The accompanying plot displays the interaction between various twitter users.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Screenshot (124)-04.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rplot01_users-03.png" class="img-fluid figure-img" width="445"></p>
</figure>
</div>
<p>Another data point was analyzing lexical dispersion of US Presidents from 1953 to 2021. This plot ranged from 1953 when president Eisenhower was in office to current president Joe Biden. There is a lexical dispersion plot aimed to account for the frequency of times that presidents have used the term ‘american,’ in their speeches. In the plots this accounted for by referring to the term ‘relative token index.’ There is a wide variation of frequency among the US presidents, but according to the plot the use of the term does seem to slight increase around 1993 when Clinton was in office.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/lexical dispersion plot-03.png" class="img-fluid figure-img" width="391"></p>
</figure>
</div>
<p>The second part of the lexical dispersion plot was comparing the frequencies between the words “american,” and “people.” The word “people,” showed less variation among presidents and was used quite frequently among all of them.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Rplot-02.png" class="img-fluid figure-img" width="335"></p>
</figure>
</div>
<p>Lastly, we were asked to discuss Wordfish it. Wordfish analyzes positions of documents based on word frequencies. They do so by using a one-dimension scaling model.</p>
</section>
<section id="assignment-2-g-trends" class="level2">
<h2 class="anchored" data-anchor-id="assignment-2-g-trends">Assignment 2: G-Trends</h2>
<p>I examined that number of searches for ‘Trump’ following the announcement of his election on June 6th 2015 for the 2016 US Election, up until 2023. I also examined the searches for ‘Biden’ following the same dates as my previous search.</p>
<p>In October and November 2016 there was a spike in searches for ‘Trump,’ coinciding to the election date. There was another sharp peak in ‘Trump,’ searches in October and November 2020. The search item ‘Biden’ was at its peak between the years of 2015 and 2023 in November 2020 during the election. Following the November 2020 election there was still more searches for ‘Biden,’ compared years 2015-early 2019, but not as frequent as the years of 2019 and 2020. The term ‘Election’ has a varied number of searches over time. The highest peaks being November 2016 and November 2020. There was a sharp dip of searches after January 2021, with some peaks in the searches in early to mid 2023.</p>
<p>All of the searches were exclusive to Google trends in the United States.</p>
</section>
<section id="assignment-1-survey-analysis" class="level2">
<h2 class="anchored" data-anchor-id="assignment-1-survey-analysis">Assignment 1: Survey Analysis</h2>
<p>Analysis of survey:</p>
<p>Q2a. The survey is structured in a way where questions concerning the content is presented before the demographic information is asked.</p>
<p>Q2b. The questionnaire is composed of an array of different questions, that range from binary answers like yes or no to Likert scales questions. The survey also includes questions that have logic, this always questions to be followed up or skipped based on questions with binary responses.</p>
<p>Q2c. The questions are ordered so that the survey questions are presented first and the demographics are placed last.</p>
<p>Q7. One way to improve a respondent’s experience is to break up the survey into sections to maintain cohesion and synchronicity throughout the survey.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>